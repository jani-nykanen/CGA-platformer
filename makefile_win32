SRCDIR := "./src"
OBJDIR := "./obj"

SRCS := $(shell find $(SRCDIR) -name "*.c")
OBJ_FILES := $(SRCS:$(SRCDIR)/%.cpp=$(OBJDIR)/%.o)
LD_FLAGS := -lmingw32 -lSDL2main -lSDL2 -lSDL2_image -lSDL2_mixer -mwindows -lm
#  -ltmx -lxml2 -lz
CC_FLAGS := -Wall

game.exe: $(OBJ_FILES)
	i686-w64-mingw32-g++ -Wall -o $@ $^ $(LD_FLAGS)

obj/%.o: src/%.c
	i686-w64-mingw32-g++ $(CC_FLAGS) -c -o $@ $<
